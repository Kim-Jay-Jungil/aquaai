<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aqua.AI - 수중 사진 자동보정 서비스</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <header class="nav">
    <a class="brand" href="/">Aqua.AI</a>
    <nav class="nav-links">
      <a href="/signin.html">로그인</a>
      <a href="/signup.html">회원가입</a>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1>수중 사진을 자동으로 보정하세요</h1>
      <p class="hero-subtitle">
        AI가 블루/그린 톤을 제거하고 색상을 복원하여 
        수중에서 찍은 사진을 자연스럽게 만들어드립니다
      </p>
    </section>

    <section class="upload-section">
      <div class="card">
        <h2>이미지 업로드 및 보정</h2>
        
        <!-- API 테스트 섹션 추가 -->
        <div class="api-test-section" style="margin-bottom: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
          <h3>🔧 API 상태 확인</h3>
          <p>문제 진단을 위해 API 상태를 먼저 확인해보세요.</p>
          <button id="simpleApiBtn" class="btn btn-outline" style="margin-right: 10px;">간단 API 테스트</button>
          <button id="apiTestBtn" class="btn btn-outline" style="margin-right: 10px;">API 테스트</button>
          <button id="s3TestBtn" class="btn btn-outline" style="margin-right: 10px;">S3 테스트</button>
          <button id="notionTestBtn" class="btn btn-outline" style="margin-right: 10px;">Notion 테스트</button>
          <button id="envCheckBtn" class="btn btn-outline">환경변수 확인</button>
          <div id="apiTestResult" style="margin-top: 1rem; padding: 1rem; border-radius: 5px; font-family: monospace; font-size: 14px; display: none;"></div>
        </div>
        
        <div class="upload-area" id="uploadArea">
          <div class="upload-placeholder">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="7,10 12,15 17,10"/>
              <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
            <p>클릭하여 이미지를 선택하거나 드래그하여 업로드하세요</p>
            <p class="upload-hint">JPG, PNG, HEIC 지원 (최대 10MB)</p>
          </div>
          <input id="fileInput" type="file" accept="image/*" multiple />
        </div>

        <div class="enhancement-options">
          <h3>보정 강도 선택</h3>
          <div class="option-buttons">
            <button class="option-btn active" data-level="auto">자동</button>
            <button class="option-btn" data-level="light">약함</button>
            <button class="option-btn" data-level="medium">보통</button>
            <button class="option-btn" data-level="strong">강함</button>
          </div>
        </div>

        <div class="user-info">
          <h3>사용자 정보 (선택사항)</h3>
          <input type="email" id="userEmail" placeholder="이메일 주소 (선택사항)" />
          <p class="info-text">이메일을 입력하면 처리 결과를 추적할 수 있습니다.</p>
        </div>

        <button id="enhanceButton" class="btn btn-primary" disabled>
          이미지 보정 시작
        </button>

        <div id="progressBar" class="progress-bar hidden">
          <div class="progress-fill"></div>
        </div>
      </div>
    </section>

    <section class="results-section hidden" id="resultsSection">
      <div class="card">
        <h2>보정 결과</h2>
        <div id="resultsGrid" class="results-grid">
          <!-- 결과 이미지들이 여기에 표시됩니다 -->
        </div>
        
        <!-- 이미지 비교 슬라이더 섹션 -->
        <div id="comparisonSection" class="comparison-section hidden">
          <h3>전/후 비교</h3>
          <div class="comparison-container">
            <div class="image-comparison-slider">
              <div class="image-wrapper">
                <img id="originalImage" src="" alt="원본 이미지" />
                <img id="enhancedImage" src="" alt="향상된 이미지" />
              </div>
              <div class="slider-handle">
                <div class="slider-line"></div>
                <div class="slider-circle">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M8 5L16 12L8 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 5L24 12L16 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
              <div class="slider-labels">
                <span class="label-original">원본</span>
                <span class="label-enhanced">향상됨</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="results-actions">
          <button id="downloadAllBtn" class="btn btn-secondary">전체 다운로드</button>
          <button id="shareBtn" class="btn btn-outline">공유하기</button>
        </div>
      </div>
    </section>

    <section class="features">
      <div class="card">
        <h2>서비스 특징</h2>
        <div class="features-grid">
          <div class="feature">
            <h3>🎯 자동 색상 보정</h3>
            <p>수중 환경의 블루/그린 톤을 자동으로 감지하고 제거</p>
          </div>
          <div class="feature">
            <h3>⚡ 빠른 처리</h3>
            <p>AI 기반으로 10초 내에 이미지 보정 완료</p>
          </div>
          <div class="feature">
            <h3>📱 모든 기기 지원</h3>
            <p>모바일, 태블릿, 데스크톱에서 편리하게 사용</p>
          </div>
          <div class="feature">
            <h3>🔒 안전한 저장</h3>
            <p>업로드된 이미지는 자동으로 삭제되어 개인정보 보호</p>
          </div>
        </div>
      </div>
    </section>

    <section class="pricing">
      <div class="card">
        <h2>요금제</h2>
        <div class="pricing-grid">
          <div class="pricing-card">
            <h3>무료</h3>
            <div class="price">₩0</div>
            <ul>
              <li>월 5장 이미지 보정</li>
              <li>기본 보정 기능</li>
              <li>웹에서 직접 사용</li>
            </ul>
            <button class="btn btn-outline">시작하기</button>
          </div>
          <div class="pricing-card featured">
            <h3>프로</h3>
            <div class="price">₩19,900<span>/월</span></div>
            <ul>
              <li>월 100장 이미지 보정</li>
              <li>고급 보정 옵션</li>
              <li>배치 처리</li>
              <li>우선 지원</li>
            </ul>
            <button class="btn btn-primary">프로 시작하기</button>
          </div>
          <div class="pricing-card">
            <h3>비즈니스</h3>
            <div class="price">₩49,900<span>/월</span></div>
            <ul>
              <li>월 1,000장 이미지 보정</li>
              <li>API 접근</li>
              <li>전용 지원</li>
              <li>맞춤형 솔루션</li>
            </ul>
            <button class="btn btn-outline">문의하기</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="foot">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Aqua.AI</h4>
        <p>수중 사진을 아름답게 만드는 AI 서비스</p>
      </div>
      <div class="footer-section">
        <h4>서비스</h4>
        <a href="/">홈</a>
        <a href="/upload.html">업로드</a>
        <a href="/pricing">요금제</a>
      </div>
      <div class="footer-section">
        <h4>지원</h4>
        <a href="/help">도움말</a>
        <a href="/contact">문의</a>
        <a href="/privacy">개인정보처리방침</a>
      </div>
    </div>
    <div class="footer-bottom">
      © 2024 Aqua.AI. All rights reserved.
    </div>
  </footer>

  <script>
    // 간단한 디버깅 스크립트
    console.log('🚀 index.html 로드됨');
    
    // DOM 로드 완료 확인
    document.addEventListener('DOMContentLoaded', function() {
      console.log('📋 DOM 로드 완료');
      
      // API 테스트 버튼들 확인
      const simpleApiBtn = document.getElementById('simpleApiBtn');
      const apiTestBtn = document.getElementById('apiTestBtn');
      const s3TestBtn = document.getElementById('s3TestBtn');
      const envCheckBtn = document.getElementById('envCheckBtn');
      
      console.log('🔘 버튼 요소들:', {
        simpleApiBtn,
        apiTestBtn,
        s3TestBtn,
        envCheckBtn
      });
      
      // 간단한 API 테스트 함수들 (임시)
      if (simpleApiBtn) {
        simpleApiBtn.addEventListener('click', async function() {
          console.log('🔍 간단 API 테스트 버튼 클릭됨');
          const resultDiv = document.getElementById('apiTestResult');
          resultDiv.style.display = 'block';
          resultDiv.textContent = '간단 API 테스트 중...';
          
          try {
            const response = await fetch('/api/test-simple');
            const data = await response.json();
            resultDiv.textContent = `✅ 성공: ${JSON.stringify(data, null, 2)}`;
          } catch (error) {
            resultDiv.textContent = `❌ 오류: ${error.message}`;
          }
        });
        console.log('✅ 간단 API 테스트 버튼 이벤트 리스너 추가됨');
      }
      
      if (apiTestBtn) {
        apiTestBtn.addEventListener('click', async function() {
          console.log('🔍 API 테스트 버튼 클릭됨');
          const resultDiv = document.getElementById('apiTestResult');
          resultDiv.style.display = 'block';
          resultDiv.textContent = 'API 테스트 중...';
          
          try {
            const response = await fetch('/api/health');
            const data = await response.json();
            resultDiv.textContent = `✅ 성공: ${JSON.stringify(data, null, 2)}`;
          } catch (error) {
            resultDiv.textContent = `❌ 오류: ${error.message}`;
          }
        });
        console.log('✅ API 테스트 버튼 이벤트 리스너 추가됨');
      }
      
      if (s3TestBtn) {
        s3TestBtn.addEventListener('click', async function() {
          console.log('🔍 S3 테스트 버튼 클릭됨');
          const resultDiv = document.getElementById('apiTestResult');
          resultDiv.style.display = 'block';
          resultDiv.textContent = 'S3 테스트 중...';
          
          try {
            const response = await fetch('/api/presign-put', {
              method: 'POST',
              headers: { 'content-type': 'application/json' },
              body: JSON.stringify({
                filename: 'test-image.jpg',
                contentType: 'image/jpeg'
              })
            });
            const data = await response.json();
            resultDiv.textContent = `✅ 성공: ${JSON.stringify(data, null, 2)}`;
          } catch (error) {
            resultDiv.textContent = `❌ 오류: ${error.message}`;
          }
        });
        console.log('✅ S3 테스트 버튼 이벤트 리스너 추가됨');
      }
      
      if (envCheckBtn) {
        envCheckBtn.addEventListener('click', async function() {
          console.log('🔍 환경변수 확인 버튼 클릭됨');
          const resultDiv = document.getElementById('apiTestResult');
          resultDiv.style.display = 'block';
          resultDiv.textContent = '환경변수 확인 중...';
          
          try {
            const response = await fetch('/api/debug-env');
            const data = await response.json();
            resultDiv.textContent = `✅ 성공: ${JSON.stringify(data, null, 2)}`;
          } catch (error) {
            resultDiv.textContent = `❌ 오류: ${error.message}`;
          }
        });
        console.log('✅ 환경변수 확인 버튼 이벤트 리스너 추가됨');
      }
      
      // 이미지 URL 테스트 기능 추가
      const testImageBtn = document.createElement('button');
      testImageBtn.textContent = '🖼️ 이미지 URL 테스트';
      testImageBtn.className = 'btn btn-outline';
      testImageBtn.style.marginTop = '10px';
      testImageBtn.onclick = function() {
        const url = prompt('테스트할 이미지 URL을 입력하세요:');
        if (url) {
          console.log('🖼️ 이미지 URL 테스트:', url);
          const img = new Image();
          img.onload = function() {
            console.log('✅ 이미지 로드 성공:', url);
            alert('이미지 로드 성공!');
          };
          img.onerror = function() {
            console.log('❌ 이미지 로드 실패:', url);
            alert('이미지 로드 실패!');
          };
          img.src = url;
        }
      };
      
      // 간단한 파일 업로드 테스트 기능 추가
      const testUploadBtn = document.createElement('button');
      testUploadBtn.textContent = '📤 간단 업로드 테스트';
      testUploadBtn.className = 'btn btn-outline';
      testUploadBtn.style.marginTop = '10px';
      testUploadBtn.style.marginLeft = '10px';
      testUploadBtn.onclick = async function() {
        try {
          console.log('🔍 간단한 업로드 테스트 시작');
          
          // 테스트용 더미 파일 생성
          const testFile = new File(['test'], 'test-image.jpg', { type: 'image/jpeg' });
          console.log('📁 테스트 파일 생성:', testFile);
          
          // Presign API 테스트
          const response = await fetch('/api/presign-put', {
            method: 'POST',
            headers: { 'content-type': 'application/json' },
            body: JSON.stringify({
              filename: 'test-image.jpg',
              contentType: 'image/jpeg'
            })
          });
          
          console.log('📡 Presign API 응답:', response.status, response.statusText);
          
          if (response.ok) {
            const data = await response.json();
            console.log('✅ Presign API 성공:', data);
            
            // 실제 S3 업로드 테스트
            if (data.url) {
              console.log('🔗 S3 업로드 테스트 시작...');
              const uploadResponse = await fetch(data.url, {
                method: 'PUT',
                headers: { 
                  'content-type': 'image/jpeg',
                  'x-amz-acl': 'public-read'
                },
                body: testFile
              });
              
              console.log('📤 S3 업로드 응답:', uploadResponse.status, uploadResponse.statusText);
              
              if (uploadResponse.ok) {
                alert('✅ 전체 업로드 테스트 성공!\n\nPresign API: 성공\nS3 업로드: 성공');
              } else {
                const errorText = await uploadResponse.text();
                alert('❌ S3 업로드 실패!\n\nPresign API: 성공\nS3 업로드: 실패\n\n상태: ' + uploadResponse.status + '\n오류: ' + errorText);
              }
            } else {
              alert('Presign API 성공했지만 URL이 없습니다:\n\n' + JSON.stringify(data, null, 2));
            }
          } else {
            const errorData = await response.json();
            console.error('❌ Presign API 실패:', errorData);
            alert('Presign API 테스트 실패!\n\n' + JSON.stringify(errorData, null, 2));
          }
          
        } catch (error) {
          console.error('💥 업로드 테스트 오류:', error);
          alert('업로드 테스트 오류: ' + error.message);
        }
      };
      
      // 실제 파일로 업로드 테스트하는 기능 추가
      const testRealFileBtn = document.createElement('button');
      testRealFileBtn.textContent = '📁 실제 파일 테스트';
      testRealFileBtn.className = 'btn btn-outline';
      testRealFileBtn.style.marginTop = '10px';
      testRealFileBtn.style.marginLeft = '10px';
      testRealFileBtn.onclick = function() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*';
        input.onchange = async function(e) {
          const file = e.target.files[0];
          if (file) {
            console.log('📁 선택된 파일:', file);
            console.log('📋 파일 정보:', {
              name: file.name,
              size: file.size,
              type: file.type,
              lastModified: new Date(file.lastModified).toISOString()
            });
            
            try {
              console.log('🔍 Presign API 호출 시작...');
              
              // Presign API 호출
              const response = await fetch('/api/presign-put', {
                method: 'POST',
                headers: { 'content-type': 'application/json' },
                body: JSON.stringify({
                  filename: file.name,
                  contentType: file.type
                })
              });
              
              console.log('📡 Presign API 응답:', response.status, response.statusText);
              console.log('📋 응답 헤더:', Object.fromEntries(response.headers.entries()));
              
              if (response.ok) {
                const data = await response.json();
                console.log('✅ Presign API 성공:', data);
                
                if (!data.url) {
                  throw new Error('Presign 응답에 URL이 없습니다: ' + JSON.stringify(data));
                }
                
                console.log('🔗 S3 업로드 시작...');
                console.log('📋 업로드 정보:', {
                  url: data.url,
                  method: 'PUT',
                  contentType: file.type,
                  fileSize: file.size
                });
                
                // S3 업로드
                const uploadResponse = await fetch(data.url, {
                  method: 'PUT',
                  headers: { 
                    'content-type': file.type,
                    'x-amz-acl': 'public-read'
                  },
                  body: file
                });
                
                console.log('📤 S3 업로드 응답:', uploadResponse.status, uploadResponse.statusText);
                console.log('📋 S3 응답 헤더:', Object.fromEntries(uploadResponse.headers.entries()));
                
                if (uploadResponse.ok) {
                  alert(`✅ 파일 업로드 성공!\n\n파일: ${file.name}\n크기: ${(file.size / 1024).toFixed(2)}KB\n타입: ${file.type}\n\nS3 Key: ${data.key || 'N/A'}\nPublic URL: ${data.publicUrl || 'N/A'}`);
                } else {
                  const errorText = await uploadResponse.text();
                  console.error('❌ S3 업로드 실패:', errorText);
                  alert(`❌ S3 업로드 실패!\n\n파일: ${file.name}\n상태: ${uploadResponse.status}\n상태 텍스트: ${uploadResponse.statusText}\n\n오류 내용: ${errorText}`);
                }
              } else {
                const errorData = await response.json().catch(() => ({ error: '응답을 JSON으로 파싱할 수 없습니다' }));
                console.error('❌ Presign API 실패:', errorData);
                alert(`❌ Presign API 실패!\n\n파일: ${file.name}\n상태: ${response.status}\n상태 텍스트: ${response.statusText}\n\n오류: ${JSON.stringify(errorData, null, 2)}`);
              }
            } catch (error) {
              console.error('💥 업로드 테스트 오류:', error);
              console.error('💥 오류 상세:', {
                name: error.name,
                message: error.message,
                stack: error.stack
              });
              
              let errorMessage = error.message;
              if (error.message === 'Failed to fetch') {
                errorMessage = '네트워크 요청 실패: API 엔드포인트에 연결할 수 없습니다. 서버 상태를 확인하세요.';
              }
              
              alert(`❌ 업로드 테스트 오류!\n\n파일: ${file.name}\n오류: ${errorMessage}\n\n💡 브라우저 개발자 도구(F12)의 콘솔 탭에서 상세한 오류 로그를 확인하세요.`);
            }
          }
        };
        input.click();
      };
      
      // API 상태 확인 기능 추가
      const checkApiStatusBtn = document.createElement('button');
      checkApiStatusBtn.textContent = '🔍 API 상태 확인';
      checkApiStatusBtn.className = 'btn btn-outline';
      checkApiStatusBtn.style.marginTop = '10px';
      checkApiStatusBtn.style.marginLeft = '10px';
      checkApiStatusBtn.onclick = async function() {
        try {
          console.log('🔍 API 상태 확인 시작...');
          
          // 1. 기본 API 엔드포인트 확인
          const healthResponse = await fetch('/api/health');
          console.log('📡 Health API 응답:', healthResponse.status, healthResponse.statusText);
          
          // 2. Presign API 엔드포인트 확인
          const presignResponse = await fetch('/api/presign-put', {
            method: 'POST',
            headers: { 'content-type': 'application/json' },
            body: JSON.stringify({
              filename: 'test.jpg',
              contentType: 'image/jpeg'
            })
          });
          console.log('📡 Presign API 응답:', presignResponse.status, presignResponse.statusText);
          
          // 3. 결과 요약
          let statusMessage = '🔍 API 상태 확인 결과:\n\n';
          
          if (healthResponse.ok) {
            statusMessage += '✅ Health API: 정상\n';
          } else {
            statusMessage += `❌ Health API: ${healthResponse.status} ${healthResponse.statusText}\n`;
          }
          
          if (presignResponse.ok) {
            statusMessage += '✅ Presign API: 정상\n';
          } else {
            statusMessage += `❌ Presign API: ${presignResponse.status} ${presignResponse.statusText}\n`;
          }
          
          // 4. 네트워크 상태 확인
          const networkInfo = {
            userAgent: navigator.userAgent,
            online: navigator.onLine,
            connection: navigator.connection ? {
              effectiveType: navigator.connection.effectiveType,
              downlink: navigator.connection.downlink
            } : 'N/A'
          };
          
          statusMessage += `\n🌐 네트워크 정보:\n`;
          statusMessage += `온라인 상태: ${networkInfo.online ? '✅ 온라인' : '❌ 오프라인'}\n`;
          if (networkInfo.connection !== 'N/A') {
            statusMessage += `연결 타입: ${networkInfo.connection.effectiveType}\n`;
            statusMessage += `다운로드 속도: ${networkInfo.connection.downlink} Mbps\n`;
          }
          
          console.log('📋 API 상태 확인 완료:', statusMessage);
          alert(statusMessage);
          
        } catch (error) {
          console.error('💥 API 상태 확인 오류:', error);
          alert(`❌ API 상태 확인 실패!\n\n오류: ${error.message}\n\n💡 브라우저 개발자 도구(F12)의 콘솔 탭에서 상세한 오류 로그를 확인하세요.`);
        }
      };
      
      // S3 CORS 설정 테스트 기능 추가
      const testS3CorsBtn = document.createElement('button');
      testS3CorsBtn.textContent = '🌐 S3 CORS 테스트';
      testS3CorsBtn.className = 'btn btn-outline';
      testS3CorsBtn.style.marginTop = '10px';
      testS3CorsBtn.style.marginLeft = '10px';
      testS3CorsBtn.onclick = async function() {
        try {
          console.log('🔍 S3 CORS 설정 테스트 시작...');
          
          // 1. Presign API 호출
          const presignResponse = await fetch('/api/presign-put', {
            method: 'POST',
            headers: { 'content-type': 'application/json' },
            body: JSON.stringify({
              filename: 'cors-test.txt',
              contentType: 'text/plain'
            })
          });
          
          if (!presignResponse.ok) {
            throw new Error(`Presign API 실패: ${presignResponse.status}`);
          }
          
          const presignData = await presignResponse.json();
          console.log('✅ Presign API 성공:', presignData);
          
          // 2. 간단한 텍스트로 S3 업로드 테스트
          const testContent = 'CORS Test Content - ' + new Date().toISOString();
          const testBlob = new Blob([testContent], { type: 'text/plain' });
          
          console.log('🔗 S3 CORS 테스트 업로드 시작...');
          
          const corsTestResponse = await fetch(presignData.url, {
            method: 'PUT',
            headers: { 
              'content-type': 'text/plain'
            },
            body: testBlob
          });
          
          console.log('📤 S3 CORS 테스트 응답:', corsTestResponse.status, corsTestResponse.statusText);
          
          if (corsTestResponse.ok) {
            alert('✅ S3 CORS 테스트 성공!\n\nS3 직접 업로드가 정상적으로 작동합니다.\n\nPresign API: 성공\nS3 업로드: 성공');
          } else {
            const errorText = await corsTestResponse.text();
            alert(`❌ S3 CORS 테스트 실패!\n\n상태: ${corsTestResponse.status}\n오류: ${errorText}\n\n💡 S3 버킷의 CORS 설정을 확인하세요.`);
          }
          
        } catch (error) {
          console.error('💥 S3 CORS 테스트 오류:', error);
          alert(`❌ S3 CORS 테스트 오류!\n\n오류: ${error.message}\n\n💡 브라우저 개발자 도구(F12)의 콘솔 탭에서 상세한 오류 로그를 확인하세요.`);
        }
      };
      
      // API 테스트 섹션에 버튼들 추가
      const apiTestSection = document.querySelector('.api-test-section');
      if (apiTestSection) {
        apiTestSection.appendChild(testImageBtn);
        apiTestSection.appendChild(testUploadBtn);
        apiTestSection.appendChild(testRealFileBtn);
        apiTestSection.appendChild(checkApiStatusBtn);
        apiTestSection.appendChild(testS3CorsBtn);
      }
    });
  </script>

  <script src="/app.js"></script>
  
  <!-- 간단한 인라인 테스트 스크립트 -->
  <script>
    console.log('🔧 인라인 테스트 스크립트 로드됨');
    
    // DOM 로드 완료 후 간단한 테스트
    document.addEventListener('DOMContentLoaded', function() {
      console.log('📋 인라인 스크립트: DOM 로드 완료');
      
      // 기본 테스트 버튼 찾기
      const basicTestBtn = document.getElementById('basicTestBtn');
      if (basicTestBtn) {
        console.log('✅ 인라인 스크립트: 기본 테스트 버튼 발견');
        
        // 인라인으로 이벤트 리스너 추가
        basicTestBtn.addEventListener('click', async function() {
          console.log('🧪 인라인 스크립트: 기본 테스트 버튼 클릭됨');
          try {
            const response = await fetch('/api/basic-test');
            const data = await response.json();
            console.log('📡 인라인 스크립트: 응답 데이터:', data);
            alert(`기본 테스트 성공!\n상태: ${response.status}\n응답: ${JSON.stringify(data, null, 2)}`);
          } catch (error) {
            console.error('❌ 인라인 스크립트: 오류:', error);
            alert(`기본 테스트 실패!\n오류: ${error.message}`);
          }
        });
      } else {
        console.error('❌ 인라인 스크립트: 기본 테스트 버튼을 찾을 수 없음');
      }
      
      // 간단 Notion 버튼 찾기
      const simpleNotionBtn = document.getElementById('simpleNotionBtn');
      if (simpleNotionBtn) {
        console.log('✅ 인라인 스크립트: 간단 Notion 버튼 발견');
        
        // 인라인으로 이벤트 리스너 추가
        simpleNotionBtn.addEventListener('click', async function() {
          console.log('🧪 인라인 스크립트: 간단 Notion 버튼 클릭됨');
          try {
            const response = await fetch('/api/simple-notion-test');
            const data = await response.json();
            console.log('📡 인라인 스크립트: 응답 데이터:', data);
            alert(`간단 Notion 테스트 성공!\n상태: ${response.status}\n응답: ${JSON.stringify(data, null, 2)}`);
          } catch (error) {
            console.error('❌ 인라인 스크립트: 오류:', error);
            alert(`간단 Notion 테스트 실패!\n오류: ${error.message}`);
          }
        });
      } else {
        console.error('❌ 인라인 스크립트: 간단 Notion 버튼을 찾을 수 없음');
      }
      
      // Notion 간단 테스트 버튼 찾기
      const notionSimpleTestBtn = document.getElementById('notionSimpleTestBtn');
      if (notionSimpleTestBtn) {
        console.log('✅ 인라인 스크립트: Notion 간단 테스트 버튼 발견');
        
        // 인라인으로 이벤트 리스너 추가
        notionSimpleTestBtn.addEventListener('click', async function() {
          console.log('🧪 인라인 스크립트: Notion 간단 테스트 버튼 클릭됨');
          try {
            const response = await fetch('/api/notion-simple-test');
            const data = await response.json();
            console.log('📡 인라인 스크립트: 응답 데이터:', data);
            alert(`Notion 간단 테스트 성공!\n상태: ${response.status}\n응답: ${JSON.stringify(data, null, 2)}`);
          } catch (error) {
            console.error('❌ 인라인 스크립트: 오류:', error);
            alert(`Notion 간단 테스트 실패!\n오류: ${error.message}`);
          }
        });
      } else {
        console.error('❌ 인라인 스크립트: Notion 간단 테스트 버튼을 찾을 수 없음');
      }
      
      // Echo 테스트 버튼 찾기
      const echoTestBtn = document.getElementById('echoTestBtn');
      if (echoTestBtn) {
        console.log('✅ 인라인 스크립트: Echo 테스트 버튼 발견');
        
        // 인라인으로 이벤트 리스너 추가
        echoTestBtn.addEventListener('click', async function() {
          console.log('🧪 인라인 스크립트: Echo 테스트 버튼 클릭됨');
          try {
            const response = await fetch('/api/echo');
            const data = await response.json();
            console.log('📡 인라인 스크립트: 응답 데이터:', data);
            alert(`Echo 테스트 성공!\n상태: ${response.status}\n응답: ${JSON.stringify(data, null, 2)}`);
          } catch (error) {
            console.error('❌ 인라인 스크립트: 오류:', error);
            alert(`Echo 테스트 실패!\n오류: ${error.message}`);
          }
        });
      } else {
        console.error('❌ 인라인 스크립트: Echo 테스트 버튼을 찾을 수 없음');
      }
    });
  </script>
</body>
</html>