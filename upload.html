<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Upload — aqua.ai</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>

<header class="site-header">
  <div class="container nav">
    <a href="/" class="logo">aqua.ai</a>
    <nav class="nav-actions">
      <a class="btn btn-secondary" href="./pricing#">Pricing</a>
      <a class="btn btn-primary" href="./signin.html">로그인</a>
    </nav>
  </div>
</header>

<main class="page">
  <div class="container">
    <h1 class="page-title">사진 업로드</h1>
    <div class="panel">
      <form class="upload-form" onsubmit="return false">
        <div class="dropzone" role="button" aria-label="Drag and drop images" tabindex="0">
          <p>클릭 또는 드래그하여 업로드 (JPEG/PNG, 권장 12–48MP)</p>
          <input id="file" type="file" accept="image/*" hidden />
        </div>

        <div class="options">
          <label><input type="checkbox" checked /> 색 보정</label>
          <label><input type="checkbox" checked /> 부유물 제거</label>
          <label><input type="checkbox" /> 손떨림 복원</label>
          <label><input type="checkbox" /> 슈퍼 레졸루션(4×)</label>
          <button class="btn btn-primary" id="btnEnhance">보정 실행</button>
          <p class="muted">무료 플랜은 워터마크가 적용됩니다.</p>
        </div>
      </form>

      <div class="result">
        <img id="preview" alt="미리보기" style="display:none; max-width:100%; border-radius:12px; border:1px solid var(--border)" />
        <div class="ba" id="resultBA" style="display:none; margin-top:12px">
          <img class="ba-img ba-after"  id="afterImg"  alt="After">
          <img class="ba-img ba-before" id="beforeImg" alt="Before">
          <div class="ba-divider"></div>
          <div class="ba-handle"></div>
          <span class="ba-badge before">Before</span>
          <span class="ba-badge after">After</span>
        </div>
      </div>
    </div>
  </div>
</main>

<footer class="site-footer">
  <div class="container foot">
    <small>© aqua.ai</small>
    <a class="btn btn-secondary btn-xs" href="./index.html">홈으로</a>
  </div>
</footer>

<script src="./app.js"></script>
<script>
  // Demo: 업로드 후 전/후에 같은 이미지를 사용(백엔드 연동 시 교체)
  document.getElementById('btnEnhance').addEventListener('click', ()=>{
    const f = document.getElementById('file').files?.[0];
    if(!f){ alert('이미지를 선택하세요.'); return; }
    const url = URL.createObjectURL(f);
    document.getElementById('beforeImg').src = url;
    document.getElementById('afterImg').src  = url; // TODO: 보정 결과 URL로 교체
    document.getElementById('resultBA').style.display='block';
  });
</script>
</body>
</html>